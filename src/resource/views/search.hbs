<nav
  class="body__navbar mt-3 navbar navbar-light bg-light justify-content-between"
>
  <div id="mySidenav" class="sidenav">
    <a
      href="javascript:void(0)"
      class="closebtn"
      onclick="closeNav()"
    >&times;</a>
    {{#if admin}}
      <a href="/admin/homepage">Trang chủ</a>
      <a href="#">Lịch sử góp ý</a>
      <a href="#">Quản lý order</a>
      <a href="#">Quản lý doanh thu</a>
      <a href="/admin/showEmployees">Quản lý nhân viên</a>
      <a href="/admin/showProducts">Quản lý sản phẩm</a>
      <a href="/account/signout">Đăng xuất</a>
    {{else}}
      {{#if employee}}
        <a href="/employees/homepage">Trang chủ</a>
        <a href="/employees/feedback">Quản lý góp ý</a>
        <a href="#">Order tại quầy</a>
        <a href="/account/signout">Đăng xuất</a>
      {{else}}
        <a href="/">Trang chủ</a>
        <a href="/feedback">Góp ý cửa hàng</a>
        <a href="/account/signin">Đăng nhập</a>
      {{/if}}
    {{/if}}

  </div>
  <div>
    <span
      style="font-size:30px; cursor:pointer"
      class="ml-5"
      onclick="openNav()"
    >&#9776;</span>
    <a class="navbar-brand ml-3"><span class="home__nav-title">My Coffee</span></a>
  </div>
  <form class="form-inline ml-5 pl-2" action= "/search" method="get" id="searchForm">
    <input
      class="mr-sm-3 home__search-bar"
      type="text"
      placeholder="Nhập tên sản phẩm"
      aria-label="Tìm kiếm"
      id="searchInput"
    />

    <button
      class="btn btn-outline-success mr-5 my-sm-2 home__seach-btn"
      type="submit"
    >Search</button>
  </form>
  <a class="shopping-cart pr-3" href="cart/show" style="float: right; color: #c4996c"><i
      class="fa-solid fa-cart-shopping"
    ></i></a>
</nav>

<div class="container-fluid">
  <div class="row">
    <nav class="col-sm-3 col-4" id="myScrollspy">
      <ul class="nav nav-pills flex-column mt-3">
        <li class="nav-item menu__title">
          MENU
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#coffee">Cà phê</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#juice">Nước ép</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#smoothy">Sinh tố</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#iceblended">Đá xay</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#tea">Trà</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#milktea">Trà sữa</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#soda">Soda</a>
        </li>
        <li class="nav-item">
          <a class="menu__session nav-link" href="/#food">Thức ăn</a>
        </li>
      </ul>
    </nav>

    <div class="col-sm-9 col-lg-9 mt-4">
      <div id="coffee">
        {{#each search}}
          {{#ifEquals this.type "coffee"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="juice">
        {{#each search}}
          {{#ifEquals this.type "juice"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="smoothy">
        {{#each search}}
          {{#ifEquals this.type "smoothy"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="iceblended">
        {{#each search}}
          {{#ifEquals this.type "iceblended"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="tea">
        {{#each search}}
          {{#ifEquals this.type "tea"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="milktea">
        {{#each search}}
          {{#ifEquals this.type "milktea"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="soda">
        {{#each search}}
          {{#ifEquals this.type "soda"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>

      <div id="food">
        {{#each search}}
          {{#ifEquals this.type "food"}}
            <div class="menu__item col-5 col-lg-2">
              <div class="card card-course-item">
                <a href="/products/{{this.slug}}">
                  <img
                    class="card-img-top"
                    src="{{this.image}}"
                    alt="{{this.name}}"
                  />
                </a>

                <div class="card-body">
                  <a href="/products/{{this.slug}}">
                    <h5 class="card-title">{{this.name}}</h5>
                  </a>
                  <p class="card-text">{{this.price}}đ</p>
                </div>
              </div>
            </div>
          {{/ifEquals}}
        {{/each}}
      </div>
    </div>
  </div>
</div>

<script>

  function openNav() { document.getElementById("mySidenav").style.width =
  "250px"; } function closeNav() {
  document.getElementById("mySidenav").style.width = "0"; }
</script>

<script>
    document.getElementById('searchForm').addEventListener('submit', function (event) {
        var searchKeyword = document.getElementById('searchInput').value;
        if (searchKeyword.trim()) {
            // Thêm keyword vào params
            window.location.href = '/search?params=' + encodeURIComponent(searchKeyword);
            event.preventDefault(); // Xử lý Submit khi không điền gì
        } else {
            event.preventDefault(); //  Xử lý Submit khi không điền gì
        }
    });
</script>